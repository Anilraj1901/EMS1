doctype html
head
  title
    | Employee Registration
  link(rel='stylesheet' type='text/css' href='stylesheet/styles.css')  
  link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css")
  
    
.container
  .text Employee Registration

  form(name="myform"  id="reg" action="/employee"   method ='post' autocomplete="off")
    .data
      label(for='firstname') First Name
      input(type='text' name='firstname' id='firstname' placeholder='Enter The First Name' required)
    .data
      label(for='lastname') Last Name
      input(type='text' name='lastname' id='lastname' placeholder='Enter The Last Name' required)
    .data 
      label(for='department') Department
      select(id="department" name="department")
        option(value='item0') Select Your Department
        option(value='Development') Development
        option(value='Management') Management
        option(value='Human Resource') Human Resource
        option(value='Bussiness') Bussiness
    .data 
      label(for='role') Role
      select#role( name="role")
        option(value='')  Select Your Role 

    .data
      label(for='mobilenumber') Mobile Number
      input(type="text" name='mobilenumber' id='mobilenumber' maxlength="10" placeholder='Enter The Mobile Number' required)
    .data
      label(for='address') Current Address
      textarea#address(type='text' name='address' placeholder='Enter the Current Address' required)
    .check 
      input(type='checkbox' name='check1' onchange='copyTextValue(this);')
      |  If Current Address And Permanent Address Is Same Please Tick This Box.
    .data
      label(for='address2') Permanent Address
      textarea#address2(type='text' name='address2' placeholder='Enter the Permanent Address' required)
    .data
      label(for='email') E-mail
      input#E-mail(type='email' name='email' placeholder='Enter The Email' required autocomplete="off")
    .data
      label(for='password') Password
      input#password(type='password' name='password' placeholder='Enter The Password' required)
      i(class="bi bi-eye-slash" id="togglePassword")
    .btn
      button(type='submit' value='submit' id="submit") REGISTER
    .signup-link
      | Already a member    ?    
      a(href='/') SignIn Now 
script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js")
script(type='text/javascript').
  $(function() {
  $("input[name='mobilenumber']").on('input', function(e) {
  $(this).val($(this).val().replace(/[^0-9]/g, ''));
  });
  })

    //- var department = `${department}`;
    //- localStorage.setItem('department', department);
      const togglePassword = document.querySelector("#togglePassword");
        const password = document.querySelector("#password");

        togglePassword.addEventListener("click", function () {
            // toggle the type attribute
            const type = password.getAttribute("type") === "password" ? "text" : "password";
            password.setAttribute("type", type);
            
            // toggle the icon
            this.classList.toggle("bi-eye");
        });
  


          function copyTextValue(bf) {
          var text1 = bf.checked ? document.getElementById("address").value : '';
          document.getElementById("address2").value = text1;
          
          }  



          $(document).ready(function () {
          $("#department").change(function () {
              var val = $(this).val();
              if (val == "Development") {
                  $("#role").html("<option value='fullstack developer'>Fullstack Developer</option><option value='ios developer'>IOS Developer</option><option value='android developer'>Android Developer</option>>");
              } else if (val == "Management") {
                  $("#role").html("<option value='admin'>Admin</option><option value='general manager'>General Manager</option><option value='manager'>Manager</option><option value='assistant manager'>Assistant Manager</option>");
              } else if (val == "Human Resource") {
                  $("#role").html("<option value='senior'>Senior</option><option value='junior'>junior</option>");
              } else if (val == "Bussiness") {
                  $("#role").html("<option value='manager'>Manager</option><option value='assistant manager'>Assistant Manager</option><option value='senior sales excecutive'>Senior Sales Excecutive</option><option value='junior sales excecutive'>junior Sales Excecutive</option>");
              }else if (val == "item0") {
                  $("#role").html("<option value=''>--Select Your Role--</option>");
              }
          });
      }); 
        

        //-   $(document).ready(function () {
        //-      $("#submit").click(function () {
        //-        var role= $('#role').val();
                 
        //-          $.ajax({
        //-              url: '/employeerole',
        //-              type: 'POST',
        //-              dataType: 'json',
        //-              data: {role:role},
        //-              success: function (data, textStatus, xhr) {
        //-                  console.log(data);
        //-              },
        //-              error: function (xhr, textStatus, errorThrown) {
        //-                  console.log('Error in Operation');
        //-              }
        //-          });
        //-      });
        //-  });